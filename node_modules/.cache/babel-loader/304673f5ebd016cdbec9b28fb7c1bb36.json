{"ast":null,"code":"var _jsxFileName = \"/Users/eduardabrischdalmas/Documents/GrowDev/react-redux/src/Views/Login/index.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport * as UserActions from '../../store/modules/user/actions';\nimport { Title, Card, SendButton, MyInput } from './styles';\nimport api from '../../services/apiCards';\n\nclass Login extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      login: '',\n      password: '',\n      newEmail: '',\n      newName: '',\n      newPassword: ''\n    };\n\n    this.handleInputChange = event => {\n      const {\n        target\n      } = event;\n\n      if (target.name === 'login') {\n        this.setState({\n          login: target.value\n        });\n      } else {\n        this.setState({\n          password: target.value\n        });\n      }\n    };\n\n    this.handleInputChangeNewUser = event => {\n      const {\n        target\n      } = event;\n\n      if (target.name === 'newName') {\n        this.setState({\n          newName: target.value\n        });\n      } else if (target.name === 'newEmail') {\n        this.setState({\n          newEmail: target.value\n        });\n      } else {\n        this.setState({\n          newPassword: target.value\n        });\n      }\n    };\n\n    this.handleSubmit = async event => {\n      event.preventDefault();\n      const {\n        login\n      } = this.props;\n      const response = await api.post('/login', {\n        email: this.state.login,\n        password: this.state.password\n      }).catch(function (error) {\n        alert('Login inválido!');\n      });\n\n      if (response) {\n        const {\n          user,\n          token\n        } = response.data;\n        user.token = token;\n        login(user);\n      }\n    };\n\n    this.handleSubmitNewUser = async event => {\n      event.preventDefault();\n      const {\n        login\n      } = this.props;\n      const response = await api.post('/users', {\n        name: this.state.newName,\n        email: this.state.newEmail,\n        password: this.state.newPassword\n      }).catch(function (error) {\n        alert('Cadastro de usuário inválido!');\n      });\n      const response2 = await api.post('/login', {\n        email: this.state.newEmail,\n        password: this.state.newPassword\n      });\n\n      if (response2) {\n        const {\n          user,\n          token\n        } = response2.data;\n        user.token = token;\n        login(user);\n      }\n    };\n  }\n\n  componentDidMount() {}\n\n  componentDidUpdate(prevProps, prevState) {}\n\n  render() {\n    return React.createElement(React.Fragment, null, React.createElement(Card, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, React.createElement(\"center\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"forms\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, React.createElement(\"ul\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, React.createElement(Title, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, \"Login\"), React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, React.createElement(MyInput, {\n      label: \"Digite seu email:\",\n      name: \"login\",\n      type: \"text\",\n      onChange: this.handleInputChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }), React.createElement(MyInput, {\n      label: \"Digite sua senha:\",\n      name: \"password\",\n      type: \"password\",\n      onChange: this.handleInputChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }), React.createElement(SendButton, {\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, \"Entrar\"))), React.createElement(\"ul\", {\n      className: \"ul\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, React.createElement(Title, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, \"Cadastro\"), React.createElement(\"form\", {\n      onSubmit: this.handleSubmitNewUser,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, React.createElement(MyInput, {\n      label: \"Digite seu nome:\",\n      name: \"newName\",\n      type: \"text\",\n      onChange: this.handleInputChangeNewUser,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }), React.createElement(MyInput, {\n      label: \"Digite seu email:\",\n      name: \"newEmail\",\n      type: \"text\",\n      onChange: this.handleInputChangeNewUser,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }), React.createElement(MyInput, {\n      label: \"Digite sua senha:\",\n      name: \"newPassword\",\n      type: \"password\",\n      onChange: this.handleInputChangeNewUser,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }), React.createElement(SendButton, {\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }, \"Cadastrar\")))))));\n  }\n\n}\n\nconst mapDispatchToProps = dispatch => bindActionCreators(UserActions, dispatch);\n\nexport default connect(null, mapDispatchToProps)(Login);","map":{"version":3,"sources":["/Users/eduardabrischdalmas/Documents/GrowDev/react-redux/src/Views/Login/index.js"],"names":["React","Component","connect","bindActionCreators","UserActions","Title","Card","SendButton","MyInput","api","Login","state","login","password","newEmail","newName","newPassword","handleInputChange","event","target","name","setState","value","handleInputChangeNewUser","handleSubmit","preventDefault","props","response","post","email","catch","error","alert","user","token","data","handleSubmitNewUser","response2","componentDidMount","componentDidUpdate","prevProps","prevState","render","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\n\nimport * as UserActions from '../../store/modules/user/actions';\n\nimport { Title, Card, SendButton, MyInput } from './styles';\n\nimport api from '../../services/apiCards';\n\nclass Login extends Component {\n  state = {\n    login: '',\n    password: '',\n    newEmail: '',\n    newName: '',\n    newPassword: '',\n  };\n\n  componentDidMount() {}\n\n  componentDidUpdate(prevProps, prevState) {}\n\n  handleInputChange = event => {\n    const { target } = event;\n    if (target.name === 'login') {\n      this.setState({ login: target.value });\n    } else {\n      this.setState({ password: target.value });\n    }\n  };\n\n  handleInputChangeNewUser = event => {\n    const { target } = event;\n    if (target.name === 'newName') {\n      this.setState({ newName: target.value });\n    } else if (target.name === 'newEmail') {\n      this.setState({ newEmail: target.value });\n    } else {\n      this.setState({ newPassword: target.value });\n    }\n  };\n\n  handleSubmit = async event => {\n    event.preventDefault();\n    const { login } = this.props;\n\n    const response = await api\n      .post('/login', {\n        email: this.state.login,\n        password: this.state.password,\n      })\n      .catch(function(error) {\n        alert('Login inválido!');\n      });\n    if (response) {\n      const { user, token } = response.data;\n      user.token = token;\n      login(user);\n    }\n  };\n\n  handleSubmitNewUser = async event => {\n    event.preventDefault();\n\n    const { login } = this.props;\n    const response = await api.post('/users', {\n      name: this.state.newName,\n      email: this.state.newEmail,\n      password: this.state.newPassword,\n    }).catch(function(error) {\n      alert('Cadastro de usuário inválido!');\n    });\n\n    const response2 = await api.post('/login', {\n      email: this.state.newEmail,\n      password: this.state.newPassword,\n    });\n    if (response2) {\n      const { user, token } = response2.data;\n      user.token = token;\n      login(user);\n    }\n  };\n\n  render() {\n    return (\n      <>\n        <Card>\n          <center>\n            <div className=\"forms\">\n              <ul>\n                <Title>Login</Title>\n                <form onSubmit={this.handleSubmit}>\n                  <MyInput\n                    label=\"Digite seu email:\"\n                    name=\"login\"\n                    type=\"text\"\n                    onChange={this.handleInputChange}\n                  />\n                  <MyInput\n                    label=\"Digite sua senha:\"\n                    name=\"password\"\n                    type=\"password\"\n                    onChange={this.handleInputChange}\n                  />\n                  <SendButton type=\"submit\">Entrar</SendButton>\n                </form>\n              </ul>\n\n              <ul className=\"ul\">\n                <Title>Cadastro</Title>\n                <form onSubmit={this.handleSubmitNewUser}>\n                  <MyInput\n                    label=\"Digite seu nome:\"\n                    name=\"newName\"\n                    type=\"text\"\n                    onChange={this.handleInputChangeNewUser}\n                  />\n                  <MyInput\n                    label=\"Digite seu email:\"\n                    name=\"newEmail\"\n                    type=\"text\"\n                    onChange={this.handleInputChangeNewUser}\n                  />\n                  <MyInput\n                    label=\"Digite sua senha:\"\n                    name=\"newPassword\"\n                    type=\"password\"\n                    onChange={this.handleInputChangeNewUser}\n                  />\n                  <SendButton type=\"submit\">Cadastrar</SendButton>\n                </form>\n              </ul>\n            </div>\n          </center>\n        </Card>\n      </>\n    );\n  }\n}\n\nconst mapDispatchToProps = dispatch =>\n  bindActionCreators(UserActions, dispatch);\n\nexport default connect(null, mapDispatchToProps)(Login);\n"]},"metadata":{},"sourceType":"module"}