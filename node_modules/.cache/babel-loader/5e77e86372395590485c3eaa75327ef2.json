{"ast":null,"code":"var _jsxFileName = \"/Users/eduardabrischdalmas/Documents/GrowDev/react-redux/src/Views/Main/index.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport LogoutIcon from '@material-ui/icons/ExitToApp';\nimport * as UserActions from '../../store/modules/user/actions';\nimport { Title, Card, SendButton, MyInput, PaperNome, CloseButton, LogoutButton } from './styles';\nimport CardItem from '../../components/CardItem';\nimport api from '../../services/apiCards';\n\nclass Home extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      newGrowdev: '',\n      growdevers: [],\n      cards: [{}],\n      title: '',\n      content: '',\n      show: false,\n      Edditing: ''\n    };\n\n    this.handleLogout = event => {\n      localStorage.removeItem('persist:react-cards');\n      window.location.reload();\n    };\n\n    this.handleInputChange = event => {\n      const {\n        target\n      } = event;\n\n      if (target.name === 'title') {\n        this.setState({\n          title: target.value\n        });\n      } else {\n        this.setState({\n          content: target.value\n        });\n      }\n    };\n\n    this.handleSubmit = async event => {\n      event.preventDefault();\n      const {\n        user\n      } = this.props;\n      const response = await api.post('/cards', {\n        title: this.state.title,\n        content: this.state.content\n      }, {\n        headers: {\n          Authorization: `Bearer ${user[0].token}`\n        }\n      });\n      this.setState({\n        cards: [...this.state.cards, {\n          id: response.data.id,\n          title: this.state.title,\n          content: this.state.content\n        }]\n      });\n    };\n\n    this.handleDelete = async id => {\n      const {\n        user\n      } = this.props;\n      const response = await api.delete(`/cards/${id}`, {\n        headers: {\n          Authorization: `Bearer ${user[0].token}`\n        }\n      });\n      this.setState({\n        cards: this.state.cards.filter(item => item.id !== id)\n      });\n    };\n\n    this.handleCloseEditModal = () => {\n      this.setState({\n        show: false\n      });\n    };\n\n    this.handleOpenEditModal = id => {\n      this.state.cards.map(item => {\n        if (item.id === id) {\n          this.setState({\n            id: item.id,\n            title: item.title,\n            content: item.content\n          });\n        }\n      });\n      this.setState({\n        show: true,\n        Edditing: id\n      });\n    };\n\n    this.handleEdit = async () => {\n      const id = this.state.Edditing;\n      const {\n        user\n      } = this.props;\n      const response = await api.put(`/cards/${id}`, {\n        title: this.state.title,\n        content: this.state.content\n      }, {\n        headers: {\n          Authorization: `Bearer ${user[0].token}`\n        }\n      });\n    };\n  }\n\n  async componentDidMount() {\n    const {\n      user\n    } = this.props;\n\n    if (user.length > 0) {\n      const response = await api.get('/cards', {\n        headers: {\n          Authorization: `Bearer ${user[0].token}`\n        }\n      });\n      this.setState({\n        cards: response.data\n      });\n    }\n  }\n\n  render() {\n    return React.createElement(React.Fragment, null, React.createElement(Card, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }, React.createElement(\"ul\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }, React.createElement(LogoutButton, {\n      onClick: this.handleLogout,\n      startIcon: React.createElement(LogoutIcon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }), React.createElement(Title, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }, \"Lista de Recados\"), React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    }, React.createElement(MyInput, {\n      label: \"Digite um titulo:\",\n      type: \"text\",\n      name: \"title\",\n      onChange: this.handleInputChange // defaultValue={this.state.newCard.title}\n      ,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }), React.createElement(MyInput, {\n      label: \"Digite um conteudo:\",\n      type: \"text\",\n      name: \"content\",\n      onChange: this.handleInputChange // defaultValue={this.state.newCard.content}\n      ,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    }), React.createElement(SendButton, {\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    }, \"Enviar\"))), React.createElement(\"ul\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    }, this.state.cards.map(item => React.createElement(PaperNome, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }, React.createElement(CardItem, {\n      key: item.id,\n      card: item,\n      onDelete: () => this.handleDelete(item.id),\n      onEdit: () => this.handleOpenEditModal(item.id),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    }))))));\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  user: state.user\n});\n\nconst mapDispatchToProps = dispatch => bindActionCreators(UserActions, dispatch);\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Home);","map":{"version":3,"sources":["/Users/eduardabrischdalmas/Documents/GrowDev/react-redux/src/Views/Main/index.js"],"names":["React","Component","connect","bindActionCreators","LogoutIcon","UserActions","Title","Card","SendButton","MyInput","PaperNome","CloseButton","LogoutButton","CardItem","api","Home","state","newGrowdev","growdevers","cards","title","content","show","Edditing","handleLogout","event","localStorage","removeItem","window","location","reload","handleInputChange","target","name","setState","value","handleSubmit","preventDefault","user","props","response","post","headers","Authorization","token","id","data","handleDelete","delete","filter","item","handleCloseEditModal","handleOpenEditModal","map","handleEdit","put","componentDidMount","length","get","render","mapStateToProps","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\n\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\n\nimport LogoutIcon from '@material-ui/icons/ExitToApp';\nimport * as UserActions from '../../store/modules/user/actions';\n\nimport {\n  Title,\n  Card,\n  SendButton,\n  MyInput,\n  PaperNome,\n  CloseButton,\n  LogoutButton,\n} from './styles';\nimport CardItem from '../../components/CardItem';\n\nimport api from '../../services/apiCards';\n\nclass Home extends Component {\n  state = {\n    newGrowdev: '',\n    growdevers: [],\n    cards: [{}],\n    title: '',\n    content: '',\n    show: false,\n    Edditing: '',\n  };\n\n  async componentDidMount() {\n    const { user } = this.props;\n    if (user.length > 0) {\n      const response = await api.get('/cards', {\n        headers: { Authorization: `Bearer ${user[0].token}` },\n      });\n      this.setState({ cards: response.data });\n    }\n  }\n\n  handleLogout = event => {\n    localStorage.removeItem('persist:react-cards');\n    window.location.reload();\n  };\n\n  handleInputChange = event => {\n    const { target } = event;\n\n    if (target.name === 'title') {\n      this.setState({ title: target.value });\n    } else {\n      this.setState({ content: target.value });\n    }\n  };\n\n  handleSubmit = async event => {\n    event.preventDefault();\n\n    const { user } = this.props;\n\n    const response = await api.post(\n      '/cards',\n      {\n        title: this.state.title,\n        content: this.state.content,\n      },\n      { headers: { Authorization: `Bearer ${user[0].token}` } }\n    );\n    this.setState({\n      cards: [\n        ...this.state.cards,\n        {\n          id: response.data.id,\n          title: this.state.title,\n          content: this.state.content,\n        },\n      ],\n    });\n  };\n\n  handleDelete = async id => {\n    const { user } = this.props;\n    const response = await api.delete(`/cards/${id}`, {\n      headers: { Authorization: `Bearer ${user[0].token}` },\n    });\n\n    this.setState({\n      cards: this.state.cards.filter(item => item.id !== id),\n    });\n  };\n\n  handleCloseEditModal = () => {\n    this.setState({ show: false });\n  };\n\n  handleOpenEditModal = id => {\n    this.state.cards.map(item => {\n      if (item.id === id) {\n        this.setState({\n          id: item.id,\n          title: item.title,\n          content: item.content,\n        });\n      }\n    });\n    this.setState({ show: true, Edditing: id });\n  };\n\n  handleEdit = async () => {\n    const id = this.state.Edditing;\n    const { user } = this.props;\n\n    const response = await api.put(\n      `/cards/${id}`,\n      {\n        title: this.state.title,\n        content: this.state.content,\n      },\n      {\n        headers: { Authorization: `Bearer ${user[0].token}` },\n      }\n    );\n  };\n\n  render() {\n    return (\n      <>\n        <Card>\n          <ul>\n            <LogoutButton\n              onClick={this.handleLogout}\n              startIcon={<LogoutIcon />}\n            >\n\n            </LogoutButton>\n            <Title>Lista de Recados</Title>\n            <form onSubmit={this.handleSubmit}>\n              <MyInput\n                label=\"Digite um titulo:\"\n                type=\"text\"\n                name=\"title\"\n                onChange={this.handleInputChange}\n                // defaultValue={this.state.newCard.title}\n              />\n              <MyInput\n                label=\"Digite um conteudo:\"\n                type=\"text\"\n                name=\"content\"\n                onChange={this.handleInputChange}\n                // defaultValue={this.state.newCard.content}\n              />\n              <SendButton type=\"submit\">Enviar</SendButton>\n            </form>\n          </ul>\n\n          <ul>\n            {this.state.cards.map(item => (\n              <PaperNome>\n                <CardItem\n                  key={item.id}\n                  card={item}\n                  onDelete={() => this.handleDelete(item.id)}\n                  onEdit={() => this.handleOpenEditModal(item.id)}\n                />\n              </PaperNome>\n            ))}\n          </ul>\n        </Card>\n      </>\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n  user: state.user,\n});\n\nconst mapDispatchToProps = dispatch =>\n  bindActionCreators(UserActions, dispatch);\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Home);\n"]},"metadata":{},"sourceType":"module"}