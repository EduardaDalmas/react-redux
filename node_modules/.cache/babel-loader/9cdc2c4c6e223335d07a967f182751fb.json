{"ast":null,"code":"var _jsxFileName = \"/Users/eduardabrischdalmas/Documents/GrowDev/react-redux/src/Views/Main/index.js\";\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { Title, Cont, Card, SendButton, MyInput } from \"./styles\";\nimport api from \"../../services/apiCards\";\nimport { TextField } from '@material-ui/core';\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport CardItem from '../../components/CardItem';\nimport PersonItem from '../../components/PersonItem';\nimport * as personActions from \"../../store/modules/person/actions\";\nimport PersonAddIcon from '@material-ui/icons/PersonAdd';\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Button from '@material-ui/core/Button';\nimport PostAddIcon from '@material-ui/icons/PostAdd';\nimport Paper from '@material-ui/core/Paper';\n\nclass Main extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      persons: [\"Marcelo\", \"Duda\", \"Pedro\"],\n      newPerson: '',\n      cards: [{}],\n      title: '',\n      content: '',\n      show: false\n    };\n\n    this.handleInputChange = event => {\n      const {\n        target\n      } = event;\n\n      if (target.name === 'title') {\n        this.setState({\n          title: target.value\n        });\n      } else {\n        this.setState({\n          content: target.value\n        });\n      }\n    };\n\n    this.handleLogout = event => {\n      localStorage.removeItem('persist:react-cards');\n      window.location.reload();\n    };\n\n    this.handleSubmit = async event => {\n      event.preventDefault();\n      const {\n        user\n      } = this.props;\n      const response = await api.post('/cards', {\n        title: this.state.title,\n        content: this.state.content\n      }, {\n        headers: {\n          Authorization: `Bearer ${user[0].token}`\n        }\n      });\n      this.setState({\n        cards: [...this.state.cards, {\n          id: response.data.id,\n          title: this.state.title,\n          content: this.state.content\n        }]\n      });\n    };\n\n    this.sendToStore = person => {\n      const {\n        addToPerson\n      } = this.props;\n      addToPerson(person);\n    };\n\n    this.removeToStore = person => {\n      const {\n        removeFromPerson\n      } = this.props;\n      removeFromPerson(person);\n    };\n\n    this.handleDelete = async id => {\n      const {\n        user\n      } = this.props;\n      const response = await api.delete(\"/cards/${id}\", {\n        headers: {\n          Authorization: `Bearer ${user[0].token}`\n        }\n      });\n      this.setState({\n        cards: this.state.cards.filter(item => item.id !== id)\n      });\n    };\n  }\n\n  async componentDidMount() {\n    const {\n      user\n    } = this.props;\n\n    if (user.length > 0) {\n      const response = await api.get(\"/cards\", {\n        headers: {\n          Authorization: `Bearer ${user[0].token}`\n        }\n      });\n      this.setState({\n        cards: response.data\n      });\n      console.log(response.data);\n    }\n  }\n\n  componentDidUpdate(prevProps, prevState) {}\n\n  render() {\n    return React.createElement(Card, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, React.createElement(Button, {\n      variant: \"outlined\",\n      onClick: this.handleLogout,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, \"Logout\"), React.createElement(Title, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, \"Recados \", React.createElement(PostAddIcon, {\n      color: \"secundary\",\n      style: {\n        fontSize: 50\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    })), React.createElement(Cont, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, React.createElement(\"ul\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, this.state.cards.map(item => React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, React.createElement(Paper, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, item.title), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, item.content), React.createElement(IconButton, {\n      onClick: this.handleDelete,\n      \"aria-label\": \"delete\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, React.createElement(DeleteIcon, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    })))))), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }), React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }, React.createElement(TextField, {\n      MyInput: true,\n      label: \"Digite o titulo:\",\n      name: \"title\",\n      type: \"text\",\n      onChange: this.handleSubmit,\n      MyInput: true,\n      label: \"Digite o conteudo:\",\n      name: \"content\",\n      type: \"text\",\n      onChange: this.handleSubmit,\n      value: this.state.newCard,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }), React.createElement(IconButton, {\n      onClick: this.handleSubmit,\n      \"aria-label\": \"salvar\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }, React.createElement(PersonAddIcon, {\n      type: \"button\",\n      style: {\n        fontSize: 40\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    })))));\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  user: state.user\n});\n\nconst mapDispatchToProps = dispatch => bindActionCreators(personActions, dispatch);\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Main);","map":{"version":3,"sources":["/Users/eduardabrischdalmas/Documents/GrowDev/react-redux/src/Views/Main/index.js"],"names":["React","Component","connect","bindActionCreators","Title","Cont","Card","SendButton","MyInput","api","TextField","DeleteIcon","CardItem","PersonItem","personActions","PersonAddIcon","IconButton","Button","PostAddIcon","Paper","Main","state","persons","newPerson","cards","title","content","show","handleInputChange","event","target","name","setState","value","handleLogout","localStorage","removeItem","window","location","reload","handleSubmit","preventDefault","user","props","response","post","headers","Authorization","token","id","data","sendToStore","person","addToPerson","removeToStore","removeFromPerson","handleDelete","delete","filter","item","componentDidMount","length","get","console","log","componentDidUpdate","prevProps","prevState","render","fontSize","map","newCard","mapStateToProps","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\n\nimport { Title, Cont, Card, SendButton, MyInput } from \"./styles\";\nimport api from \"../../services/apiCards\";\n\nimport { TextField } from '@material-ui/core';\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport CardItem from '../../components/CardItem';\nimport PersonItem from '../../components/PersonItem';\nimport * as personActions from \"../../store/modules/person/actions\";\n\nimport PersonAddIcon from '@material-ui/icons/PersonAdd';\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Button from '@material-ui/core/Button';\nimport PostAddIcon from '@material-ui/icons/PostAdd';\nimport Paper from '@material-ui/core/Paper';\n\n\nclass Main extends Component{\n  state = {\n    persons: [\"Marcelo\", \"Duda\", \"Pedro\"],\n    newPerson: '',\n    cards: [{}],\n    title: '',\n    content: '',\n    show: false,\n  };\n\n  async componentDidMount() {\n    const { user } = this.props;\n    if (user.length > 0 ) {\n      const response = await api.get(\"/cards\", {\n      headers: { Authorization: `Bearer ${user[0].token}`},\n    });\n\n    this.setState({ cards: response.data });\n\n    console.log(response.data);\n    }\n  };\n\n  componentDidUpdate(prevProps, prevState) {};//executa quando altera o state local\n\n  handleInputChange = event => {\n    const { target } = event;\n\n    if (target.name === 'title') {\n      this.setState({ title: target.value });\n    } else {\n      this.setState({ content: target.value });\n    }\n  };\n\n  handleLogout = event => {\n    localStorage.removeItem('persist:react-cards');\n    window.location.reload();\n  }\n\n\n  handleSubmit = async event => {\n    event.preventDefault();\n\n    const { user } = this.props;\n\n    const response = await api.post(\n      '/cards',\n      {\n        title: this.state.title,\n        content: this.state.content,\n      },\n      { headers: { Authorization: `Bearer ${user[0].token}` } }\n    );\n    this.setState({\n      cards: [\n        ...this.state.cards,\n        {\n          id: response.data.id,\n          title: this.state.title,\n          content: this.state.content,\n        },\n      ],\n    });\n  };\n\n  sendToStore = (person) => {\n    const { addToPerson } = this.props;\n    addToPerson(person);\n  }\n\n  removeToStore = person => {\n    const { removeFromPerson } = this.props;\n\n    removeFromPerson(person);\n  }\n\n  handleDelete = async id => {\n    const {user} = this.props;\n    const response = await api.delete(\"/cards/${id}\",{\n        headers: { Authorization: `Bearer ${user[0].token}`},\n      });\n\n    this.setState({\n      cards: this.state.cards.filter(item => item.id !== id),\n    });\n  };\n\n  render() {\n    return (\n      <Card>\n      <Button variant=\"outlined\" onClick={this.handleLogout}>Logout</Button>\n\n      <Title>Recados <PostAddIcon color=\"secundary\" style={{ fontSize: 50 }}/></Title>\n        <Cont>\n        <ul>\n          {this.state.cards.map(item =>(\n            <li>\n              <Paper>\n              <h3>{item.title}</h3>\n              <p>{item.content}</p>\n              <IconButton onClick={this.handleDelete} aria-label=\"delete\">\n                <DeleteIcon />\n              </IconButton>\n              </Paper>\n            </li>\n            ))}\n        </ul>\n        <br/>\n        <form onSubmit={this.handleSubmit}>\n        <TextField\n        MyInput label=\"Digite o titulo:\" name=\"title\" type=\"text\" onChange={this.handleSubmit}\n        MyInput label=\"Digite o conteudo:\" name=\"content\" type=\"text\" onChange={this.handleSubmit}\n        value={this.state.newCard}\n        />\n        <IconButton onClick={this.handleSubmit} aria-label=\"salvar\">\n          <PersonAddIcon type=\"button\" style={{ fontSize: 40 }}/>\n      </IconButton>\n        </form>\n        </Cont>\n\n      </Card>\n\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n  user: state.user,\n});\n\nconst mapDispatchToProps = dispatch =>\nbindActionCreators(personActions, dispatch);\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Main);\n"]},"metadata":{},"sourceType":"module"}