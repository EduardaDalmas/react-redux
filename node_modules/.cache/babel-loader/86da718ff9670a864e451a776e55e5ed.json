{"ast":null,"code":"var _jsxFileName = \"/Users/eduardabrischdalmas/Documents/GrowDev/react-redux/src/Views/Main/index.js\";\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { Title, Cont, Card, SendButton, MyInput } from \"./styles\";\nimport api from \"../../services/apiCards\";\nimport { TextField } from '@material-ui/core';\nimport PersonItem from '../../components/PersonItem';\nimport * as personActions from \"../../store/modules/person/actions\";\nimport PersonAddIcon from '@material-ui/icons/PersonAdd';\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Button from '@material-ui/core/Button';\nimport PostAddIcon from '@material-ui/icons/PostAdd';\nimport Paper from '@material-ui/core/Paper';\n\nclass Main extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      persons: [\"Marcelo\", \"Duda\", \"Pedro\"],\n      newPerson: '',\n      cards: []\n    };\n\n    this.handleInputChange = e => {\n      this.setState({\n        newPerson: e.target.value\n      });\n    };\n\n    this.handleLogout = event => {\n      localStorage.removeItem('persist:react-cards');\n      window.location.reload();\n    };\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n      this.sendToStore(this.state.newCard);\n      this.setState({\n        cards: [...this.state.cards, this.state.newCard],\n        newCard: ''\n      });\n    };\n\n    this.sendToStore = person => {\n      const {\n        addToPerson\n      } = this.props;\n      addToPerson(person);\n    };\n\n    this.removeToStore = person => {\n      const {\n        removeFromPerson\n      } = this.props;\n      removeFromPerson(person);\n    };\n\n    this.handleDelete = person => {\n      this.setState({\n        persons: this.state.persons.filter(item => item !== person)\n      });\n      this.removeToStore(person);\n    };\n  }\n\n  async componentDidMount() {\n    const {\n      user\n    } = this.props;\n\n    if (user.length > 0) {\n      const response = await api.get(\"/cards\", {\n        headers: {\n          Authorization: `Bearer ${user[0].token}`\n        }\n      });\n      this.setState({\n        cards: response.data\n      });\n      console.log(response.data);\n    }\n  }\n\n  componentDidUpdate(prevProps, prevState) {}\n\n  render() {\n    return React.createElement(Card, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, React.createElement(Button, {\n      variant: \"outlined\",\n      onClick: this.handleLogout,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, \"Logout\"), React.createElement(Title, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, \"Recados \", React.createElement(PostAddIcon, {\n      color: \"secundary\",\n      style: {\n        fontSize: 50\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    })), React.createElement(Cont, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, React.createElement(\"ul\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, this.state.cards.map(item => React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, React.createElement(Paper, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, item.title), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, item.content))))), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }), React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, React.createElement(TextField, {\n      label: \"Digite o t\\xEDtulo\",\n      label: \"Digite o cont\\xFAdo\",\n      type: \"text\",\n      onChange: this.handleInputChange,\n      value: this.state.newCard,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }), React.createElement(IconButton, {\n      onClick: this.handleSubmit,\n      \"aria-label\": \"salvar\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, React.createElement(PersonAddIcon, {\n      type: \"button\",\n      style: {\n        fontSize: 40\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    })))));\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  user: state.user\n});\n\nconst mapDispatchToProps = dispatch => bindActionCreators(personActions, dispatch);\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Main);","map":{"version":3,"sources":["/Users/eduardabrischdalmas/Documents/GrowDev/react-redux/src/Views/Main/index.js"],"names":["React","Component","connect","bindActionCreators","Title","Cont","Card","SendButton","MyInput","api","TextField","PersonItem","personActions","PersonAddIcon","IconButton","Button","PostAddIcon","Paper","Main","state","persons","newPerson","cards","handleInputChange","e","setState","target","value","handleLogout","event","localStorage","removeItem","window","location","reload","handleSubmit","preventDefault","sendToStore","newCard","person","addToPerson","props","removeToStore","removeFromPerson","handleDelete","filter","item","componentDidMount","user","length","response","get","headers","Authorization","token","data","console","log","componentDidUpdate","prevProps","prevState","render","fontSize","map","title","content","mapStateToProps","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\n\nimport { Title, Cont, Card, SendButton, MyInput } from \"./styles\";\nimport api from \"../../services/apiCards\";\n\nimport { TextField } from '@material-ui/core';\n\nimport PersonItem from '../../components/PersonItem';\nimport * as personActions from \"../../store/modules/person/actions\";\n\nimport PersonAddIcon from '@material-ui/icons/PersonAdd';\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Button from '@material-ui/core/Button';\nimport PostAddIcon from '@material-ui/icons/PostAdd';\nimport Paper from '@material-ui/core/Paper';\n\n\nclass Main extends Component{\n  state = {\n    persons: [\"Marcelo\", \"Duda\", \"Pedro\"],\n    newPerson: '',\n    cards: [],\n  };\n\n  async componentDidMount() {\n    const { user } = this.props;\n    if (user.length > 0 ) {\n      const response = await api.get(\"/cards\", {\n      headers: { Authorization: `Bearer ${user[0].token}`},\n    });\n\n    this.setState({ cards: response.data });\n\n    console.log(response.data);\n    }\n  };\n\n  componentDidUpdate(prevProps, prevState) {};//executa quando altera o state local\n\n  handleInputChange = e => {\n    this.setState({newPerson: e.target.value});\n  }\n\n  handleLogout = event => {\n    localStorage.removeItem('persist:react-cards');\n    window.location.reload();\n  }\n\n\n  handleSubmit = e => {\n    e.preventDefault();\n\n    this.sendToStore(this.state.newCard);\n\n    this.setState({cards: [...this.state.cards, this.state.newCard],\n      newCard: '',\n    });\n  }\n\n  sendToStore = (person) => {\n    const { addToPerson } = this.props;\n    addToPerson(person);\n  }\n\n  removeToStore = person => {\n    const { removeFromPerson } = this.props;\n\n    removeFromPerson(person);\n  }\n\n  handleDelete = person => {\n    this.setState({\n      persons: this.state.persons.filter(item => item !== person),\n    });\n\n    this.removeToStore(person);\n  };\n\n  render() {\n    return (\n      <Card>\n      <Button variant=\"outlined\" onClick={this.handleLogout}>Logout</Button>\n\n      <Title>Recados <PostAddIcon color=\"secundary\" style={{ fontSize: 50 }}/></Title>\n        <Cont>\n        <ul>\n          {this.state.cards.map(item =>(\n            <li>\n              <Paper>\n              <h1>{item.title}</h1>\n              <p>{item.content}</p>\n              </Paper>\n            </li>\n            ))}\n        </ul>\n        <br/>\n        <form onSubmit={this.handleSubmit}>\n        <TextField\n          label=\"Digite o título\"\n          label=\"Digite o contúdo\"\n          type=\"text\"\n          onChange={this.handleInputChange}\n          value={this.state.newCard}\n        />\n        <IconButton onClick={this.handleSubmit} aria-label=\"salvar\">\n          <PersonAddIcon type=\"button\" style={{ fontSize: 40 }}/>\n      </IconButton>\n        </form>\n        </Cont>\n\n      </Card>\n\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n  user: state.user,\n});\n\nconst mapDispatchToProps = dispatch =>\nbindActionCreators(personActions, dispatch);\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Main);\n"]},"metadata":{},"sourceType":"module"}